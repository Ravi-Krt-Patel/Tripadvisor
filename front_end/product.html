<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./index.css"/>
    <script src="https://kit.fontawesome.com/b2da144da0.js" crossorigin="anonymous"></script>
    <title>product</title>
</head>
<body>
    <div id = "header">
        <div id ="navigation_bar">
            <div class = "float1">
                <div class = "navi_child">
                    <div class ="navi_child_child">
                        <img class = "img" src="https://static.tacdn.com/img2/brand_refresh/Tripadvisor_lockup_horizontal_secondary_registered.svg" alt="">
                    </div>
                    
                    <div class ="navi_child_child">
                        <div style="border: 1px solid black; border-radius:20px 0px 0px 20px; padding-left: 10px; padding-top:5px; border-right: none; " ><img style="width:80%; margin-top:5%;"src="https://img.icons8.com/ios-filled/50/000000/search--v1.png"/></div>
                        <input  class ="inp" type="text" />
                    </div>
                    
                </div>
                
            </div>
            <div class = "float2">
                <div class = "navi_child">
                    <div class ="navi_child_child_right">
                        <a href="http://" style="display: flex; text-decoration: none; color:black;">
                            <div style="margin-left: 0px;"><img style="width:90%; margin-top:5%;" src="https://img.icons8.com/external-kiranshastry-lineal-kiranshastry/64/000000/external-pencil-interface-kiranshastry-lineal-kiranshastry.png"/></div>
                            <div style="margin-top: 10px;margin-right: 10px;">Review</div>
                        </a>
                     </div>
                    <div class ="navi_child_child_right">
                        <a href="http://" style="display: flex; text-decoration: none; color:black;">
                            <div style="margin-left: 0px;"><img style="width:70%; margin-top:5%;" src="https://img.icons8.com/material-outlined/50/000000/like.png"/></div>
                            <div style="margin-top: 10px;margin-right: 10px;">Trips</div>
                        </a>
                        
                    </div>
                    <div class ="navi_child_child_right">
                        <a href="http://" style="display: flex; text-decoration: none; color:black;">
                            <div style="margin-top: 5px;"><img style="width:60%; margin-top:5%;" src="https://img.icons8.com/external-dreamstale-lineal-dreamstale/50/000000/external-bell-interface-dreamstale-lineal-dreamstale.png"/></div>
                            <div style="margin-top: 10px;margin-right: 10px;">Alert</div>
                        </a>
                        
                    </div>
                    <div class ="navi_child_child_right">
                        <a href="http://" style="display: flex; text-decoration: none; color:black;">
                            <div class = "app" >Sign in</div>
                           
                        </a>
                        
                     </div>
                </div>
                
            </div>
            <div class="clear"></div>
        </div>

    </div>

    <div id = "menu">
        <div id ="menu_child">
            <a href="http://">
                <h4>New York City</h4>
            </a>
            <a href="http://">
                <h4>Hotels</h4>
            </a>
            <a href="http://">
                <h4>Things to do</h4>
            </a>
            <a href="http://">
                <h4>Restaurants</h4>
            </a>
            <a href="http://">
                <h4>Flights</h4>
            </a>
            <a href="http://">
                <h4>Vacation Rentals</h4>
            </a>
            <a href="http://">
                <h4>Vacation Packages</h4>
            </a>
            <a href="http://">
                <h4>Cruises</h4>
            </a>
            <a href="http://">
                <h4>Rental Cars</h4>
            </a>
        </div>
    </div>
    <div style="background-color: rgb(233, 233, 247);">
        <div id="product">
            <div id="product_child">
                <div id="side_bar" style="background-color: white;">
                    <div style="margin-bottom: 20px; margin-top: 20px;">
                        <h3 style="margin-bottom: 10px;">Covid-19 <i style="font-size: 10px;" class="fas fa-info"></i> </h3>
                            <input type="checkbox"/>
                            <label>Properties taking safety measures</label>
                    </div>
                    <hr>
                    <div style="margin-bottom: 20px; margin-top: 20px;">
                        <h3 style="margin-bottom: 10px;">Deads</h3>
                        <div style="margin-bottom: 10px;">
                            <input type="checkbox"/>
                            <label>Free cancellation</label>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <input type="checkbox"/>
                            <label>Reserve now, pay at stay</label>
                        </div>
                        <div >
                            <input type="checkbox"/>
                            <label>Properties with special offers</label>
                        </div>
                        
                    </div>
                    <hr>
                    <div style="margin-bottom: 20px; margin-top: 20px;">
                        <h3 style="margin-bottom: 10px;">Price</h3>
                        <div style="margin-bottom: 10px;">
                            <input type="checkbox"/>
                            <label>&#8377 10,000 - &#8377 20,000</label>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <input type="checkbox"/>
                            <label>&#8377 20,000 - &#8377 30,000</label>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <input type="checkbox"/>
                            <label>&#8377 30,000 - &#8377 40,000</label>
                        </div>
                        <div style="margin-bottom: 10px;">
                            <input type="checkbox"/>
                            <label>&#8377 40,000 - more</label>
                        </div>
                    </div>
                    <hr>
                    <div style="margin-bottom: 20px; margin-top: 20px;">
                        <h3 style="margin-bottom: 10px;">Popular</h3>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Breakfast included</label>
                        </div>
                        <div class="side_r">
                            24
                        </div>
                        <div class="side_clear"></div>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>5 stars</label>
                        </div>
                        <div class="side_r">
                            19
                        </div>
                        <div class="side_clear"></div>
                        <div class="side_clear"></div>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>3 stars</label>
                        </div>
                        <div class="side_r">
                            83
                        </div>
                        <div class="side_clear"></div>
                    </div>
                    <hr>
                    <div style="margin-bottom: 20px; margin-top: 20px;">
                        <h3 style="margin-bottom: 10px;">Amenities</h3>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Free Wifi</label>
                        </div>
                        <div class="side_r">
                            184
                        </div>
                        <div class="side_clear"></div>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Breakfast included</label>
                        </div>
                        <div class="side_r">
                            24
                        </div>
                        <div class="side_clear"></div>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Pool</label>
                        </div>
                        <div class="side_r">
                            15
                        </div>
                        <div class="side_clear"></div>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Restaurant</label>
                        </div>
                        <div class="side_r">
                            35
                        </div>
                        <div class="side_clear"></div>
                    </div>
                    <hr>
                    <div style="margin-bottom: 20px; margin-top: 20px;">
                        <h3 style="margin-bottom: 10px;">Style</h3>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Mid-range</label>
                        </div>
                        <div class="side_r">
                            3
                        </div>
                        <div class="side_clear"></div>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Luxury</label>
                        </div>
                        <div class="side_r">
                            3
                        </div>
                        <div class="side_clear"></div>
                        <div style="margin-bottom: 10px;" class="side_l">
                            <input type="checkbox"/>
                            <label>Family-friendly</label>
                        </div>
                        <div class="side_r">
                            1
                        </div>
                        <div class="side_clear"></div>
                    </div>
                </div>
                <div id="side_body" style="background-color: white;">

                </div>
            </div>
        </div>
    </div>

    <script>
        async function full_data(){
            let res = await fetch("http://localhost:2345/product");
            let data = await res.json();
            let product = document.getElementById("side_body");
            data.forEach((el)=>{
                let div_big = document.createElement("div");
                
                let name = document.createElement("h3");
                name.innerText = el.product_name;

                let vv = document.createElement("i");
                vv.setAttribute('class','fas fa-check')

                let free_div = document.createElement("div");
                let free_cancel = document.createElement("p");
                if(el.free_cancelation == true){
                     free_cancel.innerText =" Free cancellation";
                     free_div.append(vv,free_cancel);
                     free_div.setAttribute("class","product_d_flex");
                }

                let rupee = document.createElement("i");
                rupee.setAttribute("class","fas fa-rupee-sign")
                let product_price = document.createElement("span");
                product_price.innerText = el.product_price;
                let rupee_price = document.createElement("div");
                rupee_price.append(rupee,product_price)
                
                let img = document.createElement("img");
                img.src =  el.product_image;
                img.setAttribute("class","img_div_img")

                let all_c_p = document.createElement("div");
                var count = 0;
                el.company_name.forEach((pr,i)=>{
                    let c_p = document.createElement("div")
                    if(i%2 == 0){
                        count++;
                        let c_name = document.createElement("div");
                        c_name.innerText = pr
                        c_p.appendChild(c_name);
                    }else{
                        count++;
                        let c_price = document.createElement("div");
                        c_price.innerText = pr;
                        c_p.appendChild(c_price);
                    }
                    if(count == 2){
                        c_p.setAttribute("class","all_c_p_l");
                        count = 0;
                    }
                    all_c_p.appendChild(c_p);
                })
                
                let all_facility = document.createElement("div");
                el.facility.forEach((fc)=>{
                    let icon_text = document.createElement("div");
                    if(fc == "Free wifi"){
                        
                        let fc_icon = document.createElement("i");
                        fc_icon.setAttribute("class","fas fa-wifi");
                        let fc_text = document.createElement("span");
                        fc_text.innerText = "Free wifi";
                        icon_text.append(fc_icon, fc_text);
                        
                        
                    }
                    if(fc == "Taking safety measures"){
                        let fc_icon1 = document.createElement("i");
                        fc_icon1.setAttribute("class","fas fa-hands-wash");
                        let fc_text1 = document.createElement("span");
                        fc_text.innerText1 = "Taking safety measures";
                        icon_text.append(fc_icon1, fc_text1);

                    }
                    if(fc == "Restaurant"){
                        let fc_icon = document.createElement("i");
                        fc_icon.setAttribute("class","fas fa-utensils");
                        let fc_text = document.createElement("span");
                        fc_text.innerText = "Restaurant";
                        icon_text.append(fc_icon, fc_text);

                    }
                    if(fc == "pool"){
                        let fc_icon = document.createElement("i");
                        fc_icon.setAttribute("class","fas fa-swimmer");
                        let fc_text = document.createElement("span");
                        fc_text.innerText = "pool";
                        icon_text.append(fc_icon, fc_text);

                    }
                    if(fc == "Room service"){
                        let fc_icon = document.createElement("i");
                        fc_icon.setAttribute("class","fas fa-broom");
                        let fc_text = document.createElement("span");
                        fc_text.innerText = "Room service";
                        icon_text.append(fc_icon, fc_text);

                    }
                    if(fc == "fitness cetre"){
                        let fc_icon = document.createElement("i");
                        fc_icon.setAttribute("class","fas fa-walking");
                        let fc_text = document.createElement("span");
                        fc_text.innerText = "fitness cetre";
                        icon_text.append(fc_icon, fc_text);

                    }
                    if(fc == "Bar/Laung"){
                        let fc_icon = document.createElement("i");
                        fc_icon.setAttribute("class","fas fa-glass-cheers");
                        let fc_text = document.createElement("span");
                        fc_text.innerText = "Bar/Laung";
                        icon_text.append(fc_icon, fc_text);
                    }
                    all_facility.appendChild(icon_text);
                    
                });
                all_facility.setAttribute("class","all_c_p_l")
                let img_div = document.createElement("div");
                img_div.appendChild(img);
                img_div.setAttribute("class","img_div");

                let butun = document.createElement("button");
                butun.innerText = "View Deal"
                let anchore = document.createElement("a");
                anchore.href = "./product_final.html";
                anchore.appendChild(butun);
                butun.onclick = function() {
                    addTolocal(el)
                };
                butun.setAttribute("class","name_button")


                let name_sevtion = document.createElement("div");
                name_sevtion.append(name,rupee_price,anchore,free_div);
                name_sevtion.setAttribute("class","name_section");



                let company_name_section = document.createElement("div");
                company_name_section.appendChild(all_c_p);
                let facility_section = document.createElement("div");
                facility_section.appendChild(all_facility)
                div_big.append(name_sevtion,company_name_section,facility_section);
                div_big.setAttribute("class","div_big")
                let final = document.createElement("div");
                final.append(img_div,div_big)
                final.setAttribute("class","final_div")
                product.appendChild(final);
            })
        }
        full_data();
        
        function addTolocal(p){
            let cart_data = JSON.stringify(p);
            localStorage.setItem("tripadvisor",cart_data);
        }

    </script>
    

</body>
</html>